<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="TPV_Gastronomico.Views.StockWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Stock Kudeaketa" Height="520" Width="950">
	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Barra de búsqueda -->
		<StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,8">
			<TextBox x:Name="SearchBox" Width="300" ToolTip="Izena edo kategoriaz bilatu..." />
			<Button Content="Bilatu" Click="Buscar_Click" Margin="8,0"/>
			<Button Content="Denak erakutsi" Click="Refrescar_Click" Margin="8,0"/>
			<Button Content="Stock baxua" Click="StockBajo_Click" Margin="8,0"/>
		</StackPanel>

		<!-- DataGrid -->
		<DataGrid x:Name="ProductosGrid" Grid.Row="1" AutoGenerateColumns="False"
                  CanUserAddRows="False" SelectionMode="Single" IsReadOnly="True"
                  SelectionChanged="ProductosGrid_SelectionChanged">
			<DataGrid.Columns>
				<DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
				<DataGridTextColumn Header="Izena" Binding="{Binding Nombre}" Width="2*"/>
				<DataGridTextColumn Header="Kategoria" Binding="{Binding Categoria}" Width="*"/>
				<DataGridTextColumn Header="Prezioa" Binding="{Binding Precio, StringFormat={}{0:N2}}" Width="100"/>
				<DataGridTextColumn Header="Kopurua" Binding="{Binding Cantidad}" Width="100"/>
			</DataGrid.Columns>
		</DataGrid>

		<!-- Form Edición / Alta -->
		<Border Grid.Row="2" BorderBrush="LightGray" BorderThickness="1" Padding="8" Margin="0,8,0,0">
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
				<StackPanel Width="360">
					<TextBlock>Izena</TextBlock>
					<TextBox x:Name="NombreBox"/>

					<TextBlock Margin="0,6,0,0">Kategoria</TextBlock>
					<TextBox x:Name="CategoriaBox"/>
				</StackPanel>

				<StackPanel Width="160" Margin="10,0,0,0">
					<TextBlock>Prezioa</TextBlock>
					<TextBox x:Name="PrecioBox"/>

					<TextBlock Margin="0,6,0,0">Kopurua</TextBlock>
					<TextBox x:Name="CantidadBox"/>
				</StackPanel>

				<StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" Margin="12,0,0,0">
					<Button Content="Gehitu" Width="100" Click="Anadir_Click" Margin="0,0,6,0"/>
					<Button Content="Eguneratu" Width="100" Click="Actualizar_Click" Margin="0,0,6,0"/>
					<Button Content="Ezabatu" Width="100" Click="Eliminar_Click" />
				</StackPanel>
			</StackPanel>
		</Border>
	</Grid>
</Window>
